backend:
  name: github
  repo: mrdotkg/terrasaas # Path to your GitHub repository
  open_authoring: true
  branch: main

local_backend: true

publish_mode: editorial_workflow
media_folder: "static/images/uploads" # Media files will be stored in the repo under static/images/uploads
public_folder: "/images/uploads" # The src attribute for uploaded media will begin with /images/uploads

i18n:
  structure: multiple_files
  locales: [en, fr]
  default_locale: en

collections:
  - name: courses
    i18n: true
    label: Courses
    label_singular: 'Course'
    folder: content
    filter: {field: "layout", value: "course"}
    create: true
    allow_nesting: true
    # adding a nested object will show the collection folder structure
    nested:
      depth: 100 # max depth to show in the collection tree
      summary: '{{title}}' # optional summary for a tree node, defaults to the inferred title field
    fields:
      - label: Title
        name: title
        widget: string
        i18n: true

      - label: Body
        name: body
        widget: markdown
    # adding a meta object with a path property allows editing the path of entries
    # moving an existing entry will move the entire sub tree of the entry to the new location
    meta: { path: { widget: string, label: 'Path', index_file: '_index' } }

  - name: "pages"
    label: "Pages"
    files:
      - label: "FAQ Page"
        name: "faq"
        file: "content/faq/_index.en.md"
        fields:
          - {label: Title, name: title, widget: string}
          - {label: Body, name: body, widget: markdown}
      - label: "Contact Page"
        name: "contact"
        file: "content/contact/_index.en.md"
        fields:
          - {label: Title, name: title, widget: string}
          - {label: Body, name: body, widget: markdown}

  - name: "settings"
    label: "Settings"
    create: true
    files:
      - name: "en-tr"
        label: "En Tra"
        file: "i18n/en.yaml"
        fields:
          - label: "Root"
            name: "Root"
            widget: "string"
          - label: "Translations"
            name: "translations"
            widget: "list"
            fields: 
              - {label: "Id", name: "id", widget: "string"}
              - {label: "Translation", name: "translation", widget: "string"}
      - label: "General Settings"
        name: "general"
        file: "config.toml"
        fields:
          - label: Title
            name: title
            widget: string

  - name: config
    label: Config
    format: frontmatter
    delete: false
    files:
      - name: english-tr
        file: "i18n/en.yaml"
        label: "English Translations"
        fields:
          - {name: body, label: EN.YAML, widget: text}
      - name: french-tr
        file: "i18n/fr.yaml"
        label: "French Translations"
        fields:
          - {name: body, label: FR.YAML, widget: text}
      - name: cms-config
        label: "Netlify CMS Config"
        file: "static/admin/config.yml"
        fields:
          - {name: body, label: CONFIG.YML, widget: text}
      - label: "Website Config"
        name: "website-config"
        file: "config.toml"
        fields:
          - {name: body, label: CONFIG.TOML, widget: text}